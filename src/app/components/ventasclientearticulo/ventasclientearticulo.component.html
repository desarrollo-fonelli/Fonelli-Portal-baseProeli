     
      <section >
        <div class="row">
          <div class="col-lg-12">
  
            <div class="card">
              <div class="card-body">
                <h2 class="card-title" >Ventas por cliente y artículo</h2>
  
                <!-- General Form Elements -->
                <form>
                  <div class="form-row">                   

                    <div class="col-md-1 col-md-1">
                      <br>
                      <br>
                      <label >Desde</label>
                    </div>

                        <div class="form-group col-md-1">
                          <label>Oficina</label>
                          <input 
                            type="text" 
                            id="idOfiDes"
                            class="form-control"
                            name="idOfiDes"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.OficinaDesde"
                            disabled="{{ bCliente }}"
                            required
                          >
                        </div>
                        <div class="form-group col-md-2">
                          <label >Fecha</label>
                          <input 
                            type="date" 
                            id="idFecDes"
                            class="form-control"
                            name="idFecDes"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.FechaDesde"
                            required
                          >
                        </div>
                        <div class="form-group col-md-2">
                          <label >Num</label>
                          <input 
                            type="text" 
                            id="idNumDes"
                            class="form-control"
                            name="idNumDes"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.ClienteDesde"
                            disabled="{{ bCliente }}"
                            required
                          >
                        </div>
                        <div class="form-group col-md-1">
                          <label>Fil</label>
                          <input 
                            type="text" 
                            id="idFilDes"
                            class="form-control"
                            name="idFilDes"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.FilialDesde"
                            disabled="{{ bCliente }}"
                            required
                          >
                        </div>
                        <div class="form-group col-md-1">
                          <label >Línea</label>
                          <input 
                            type="text" 
                            id="idLinDes"
                            class="form-control"
                            name="idLinDes"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.LineaDesde"
                            required
                          >
                        </div>
                        <div class="form-group col-md-1">
                          <label>Clave</label>
                          <input 
                            type="text" 
                            id="idClvDes"
                            class="form-control"
                            name="idClvDes"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.ClaveDesde"
                            required
                          >
                        </div>
                        <div class="form-group col-md-1">
                          <label>Categoria</label>
                          <input 
                            type="text" 
                            id="idCatDes"
                            class="form-control"
                            name="idCatDes"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.CategoriaDesde"
                            required
                          >
                        </div>
                        <div class="form-group col-md-1">
                          <label >SubCategoria</label>
                          <input 
                            type="text" 
                            id="idSucaDes"
                            class="form-control"
                            name="idSucaDes"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.SubcategoriaDesde"
                            required
                          >
                        </div>
                    </div>

                    <div class="form-row">                   
                     
                      <div class="col-md-1">                        
                        <label>Hasta</label>
                      </div>

                      <div class="form-group col-md-1">
                        <input 
                            type="text" 
                            id="idOfiHas"
                            class="form-control"
                            name="idOfiHas"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.OficinaHasta"
                            disabled="{{ bCliente }}"
                            required
                          >
                      </div>
                      <div class="form-group col-md-2">
                        <input 
                          type="date" 
                          id="idFecHas"
                          class="form-control"
                          name="idFecHas"
                          #nombre="ngModel"
                          [(ngModel)]="oBuscar.FechaHasta"
                          required
                        >
                      </div>
                      <div class="form-group col-md-2">
                        
                        <input 
                          type="text" 
                          id="idNumHas"
                          class="form-control"
                          name="idNumHas"
                          #nombre="ngModel"
                          [(ngModel)]="oBuscar.ClienteHasta"
                          disabled="{{ bCliente }}"
                          required
                        >
                      </div>
                      <div class="form-group col-md-1">
                        <input 
                          type="text" 
                          id="idFilHas"
                          class="form-control"
                          name="idFilHas"
                          #nombre="ngModel"
                          [(ngModel)]="oBuscar.FilialHasta"
                          disabled="{{ bCliente }}"
                          required
                        >
                      </div>
                      <div class="form-group col-md-1">
                        <input 
                          type="text" 
                          id="idLinHas"
                          class="form-control"
                          name="idLinHas"
                          #nombre="ngModel"
                          [(ngModel)]="oBuscar.LineaHasta"
                          required
                        >
                      </div>
                      <div class="form-group col-md-1">
                        <input 
                          type="text" 
                          id="idClvHas"
                          class="form-control"
                          name="idClvHas"
                          #nombre="ngModel"
                          [(ngModel)]="oBuscar.ClaveHasta"
                          required
                        >
                      </div>
                      <div class="form-group col-md-1">
                        <input 
                          type="text" 
                          id="idCatHas"
                          class="form-control"
                          name="idCatHas"
                          #nombre="ngModel"
                          [(ngModel)]="oBuscar.CategoriaHasta"
                          required
                        >
                      </div>
                      <div class="form-group col-md-1">
                        <input 
                          type="text" 
                          id="idSucaHas"
                          class="form-control"
                          name="idSucatHas"
                          #nombre="ngModel"
                          [(ngModel)]="oBuscar.SubcategoriaHasta"
                          required
                        >
                      </div>
                  </div>
  
                  <!-- control de radios -->
                  <div class="row">
                     
                    <div class="form-group col-md-3">
                      <p> Tipo de artículos</p>                        
                      <div class="form-check" >                        
                        <input 
                            class="form-check-input" 
                            type="radio" 
                            name="TipArt"
                            value="L"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.TipoArticulo"                            
                          >
                        <label class="form-check-label" for="gridRadios1"> Línea</label>
                      </div>
                      <div class="form-check">
                        <input 
                            class="form-check-input" 
                            type="radio" 
                            name="TipArt"
                            value="E"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.TipoArticulo"                            
                          >
                        <label class="form-check-label" for="gridRadios2">Especiales</label>
                      </div>
                      <div class="form-check">
                        <input 
                            class="form-check-input" 
                            type="radio" 
                            name="TipArt"
                            value="T"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.TipoArticulo"                            
                          >
                        <label class="form-check-label"> Todos </label>
                      </div>
                    </div>

                    <div class="form-group col-md-3">
                      <p> Internos/Externos</p>  
                        <div class="form-check">
                          <input 
                            class="form-check-input" 
                            type="radio" 
                            name="TipOri"
                            value="I"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.TipoOrigen"                            
                          >
                          <label class="form-check-label"> Internos</label>
                        </div>
                        <div class="form-check">
                          <input 
                            class="form-check-input" 
                            type="radio" 
                            name="TipOri"
                            value="E"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.TipoOrigen"                            
                          >
                          <label class="form-check-label" for="gridRadios2"> Externos </label>
                        </div>
                        <div class="form-check">
                          <input 
                            class="form-check-input" 
                            type="radio" 
                            name="TipOri"
                            value="T"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.TipoOrigen"                            
                          >
                          <label class="form-check-label" for="gridRadios3"> Todos </label>
                        </div>
                      </div>

                      <div class="form-group col-md-3">
                        <p> Ordenado por</p> 
                        <div class="form-check">
                          <input 
                            class="form-check-input" 
                            type="radio" 
                            name="OrdPor"
                            value="C"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.OrdenReporte"                            
                          >
                          <label class="form-check-label" for="gridRadios1"> Categoria </label>
                        </div>
                        <div class="form-check">
                          <input 
                            class="form-check-input" 
                            type="radio" 
                            name="OrdPor"
                            value="P"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.OrdenReporte"                            
                          >
                          <label class="form-check-label" for="gridRadios2"> Piezas </label>
                        </div>
                        <div class="form-check">
                          <input 
                            class="form-check-input" 
                            type="radio" 
                            name="OrdPor"
                            value="I"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.OrdenReporte"                            
                          >
                          <label class="form-check-label" for="gridRadios3"> Importe </label>
                        </div>
                      </div>

                      <div class="form-group col-md-3">
                        <p> Presentación</p> 
                        <div class="form-check">
                          <input 
                            class="form-check-input" 
                            type="radio" 
                            name="Pres"
                            value="D"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.Presentacion"                            
                          >
                          <label class="form-check-label" for="gridRadios1"> Detallado </label>
                        </div>
                        <div class="form-check">
                          <input 
                            class="form-check-input" 
                            type="radio" 
                            name="Pres"
                            value="R"
                            #nombre="ngModel"
                            [(ngModel)]="oBuscar.Presentacion"                            
                          >
                          <label class="form-check-label" for="gridRadios2"> Resumido </label>
                        </div>
                        
                      </div>

                    
                  </div>
  
  
                   
  
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <button type="submit" (click)="consultaVentCArticulo()" class="btn btn-primary">BUSCAR</button>
                        </div>
                    </div>            
  
  
                  
  
                  
                </form><!-- End General Form Elements --> 
              </div> 
            </div>
          </div>
        </div>

          <div *ngIf="bBandera" class="table-responsive-sm">
            <table class="table table-hover table-striped  ">
              <thead>
                <tr class="bg-info">
                  <th>TP</th><!--Pedido codigo -->
                  <th>L</th><!-- Pedido letra -->
                  <th>PEDIDO</th><!--Pedido folio -->
                  <th>CLTE</th><!--Cliente codigo -->
                  <th>FIL</th><!--Cliente filial -->
                  <th>FECHA PEDIDO</th><!--Fecha pedido -->
                  <th>FECHA APROD</th><!--Fecha pedido produccion -->
                  <th>FECHA CANCOP</th><!--Fecha cancelacion -->
                  <th>S</th><!--Pedido status -->
                  <th>DIAS ATRAS</th><!--Dias atraso -->
                  <th class="text-right">CANT PEDID</th><!--Cantidad perdida -->
                  <th class="text-right">IMPORTE</th><!-- Cantidad perdida importe -->
                  <th class="text-right">VALOR AGREGADO</th><!---->
                  <th class="text-right">CANT SURTID</th><!--Cantidad surtida -->
                  <th class="text-right">IMPORTE</th><!--Cantidad surtida importe -->
                  <th class="text-right">VALOR AGREGADO</th><!-- -->
                  <th class="text-right">DIFER</th><!--Diferencia cantidad producto -->
                  <th class="text-right">IMPORTE</th><!--Diferencia importe surtido -->
                </tr>
              </thead>
              <tbody>
                <ng-container *ngFor="let venArt of oVentasCliRes.Contenido ">
                  <tr class="table-info">
                    <td colspan="3">{{venArt.ClienteCodigo + ' ' + venArt.ClienteNombre }}</td>
                  </tr>
                  <ng-container *ngFor="let cat of venArt.Categorias;">
                    
                    <tr class="table-warning">
                      <td colspan="3">{{'CATEGORIA ' +cat.CategoriaCodigo + ' : ' + cat.CategoriaNombre }}</td>
                    </tr>
                    
                    <tr *ngFor="let subCat of cat.Subcategorias;" >                
                      
                      <td>{{subCat.SubcategoCodigo + ' - ' + subCat.SubcategoNombre }}</td>
                    </tr> 
                      <!-- <td>{{pedido.PedidoLetra}}</td>
                      <td>{{tipoPed.TipoPedidoCodigo}}</td>
                      <td><u>{{pedido.PedidoFolio}}</u></td>
                      <td>{{pedido.ClienteCodigo}}</td>
                      <td>{{pedido.ClienteFilial}}</td>
                      <td>{{pedido.FechaPedido}}</td>
                      <td>{{pedido.FechaPedidoProduccion}}</td>
                      <td>{{pedido.FechaCancelacion}}</td>
                      <td>{{pedido.PedidoStatus}}</td>
                      <td>{{pedido.DiasAtraso}}</td>
                      <td class="text-right">{{pedido.CantidadPedida}}</td>
                      <td class="text-right">{{pedido.CantidadPedidaImporte}}</td>
                      <td class="text-right">{{pedido.CantidadPedidaValorAgregado}}</td>                
                      <td class="text-right">{{pedido.CantidadSurtida}}</td>                
                      <td class="text-right">{{pedido.CantidadSurtidaImporte}}</td>                
                      <td class="text-right">{{pedido.CantidadSurtidaValorAgregado}}</td>                
                      <td class="text-right">{{pedido.DiferenciaCantidadProducido}}</td>                
                      <td class="text-right">{{pedido.DiferenciaImporteSurtido}}</td>                 -->
                   
    
                    <!-- TOTAL PEDIDOS-->
                    <!-- <tr>
                      <td></td>
                      <td></td>
                      <td><strong>Total</strong></td>
                      <td><strong>{{getTotalPedidos(tipoPed.Pedidos)}}</strong></td>
                      <td></td>
                      <td>Pedidos</td>
                      <td></td>
                      <td><strong>{{tipoPed.TipoPedido}}</strong></td>
                      <td></td>
                      <td></td>   
                      <td class="text-right"><strong>{{getTotalCanPed(tipoPed.Pedidos)}}</strong></td>
                      <td class="text-right"><strong>{{getTotalImportes(tipoPed.Pedidos)}}</strong></td>
                      <td class="text-right"><strong>{{getTotalCPValorAgregado(tipoPed.Pedidos)}}</strong></td>
                      <td class="text-right"><strong>{{getTotalCanSurtida(tipoPed.Pedidos)}}</strong></td>
                      <td class="text-right"><strong>{{getTotalCanSurtidaImporte(tipoPed.Pedidos)}}</strong></td>
                      <td class="text-right"><strong>{{getTotalCSValorImporte(tipoPed.Pedidos)}}</strong></td>
                      <td class="text-right"><strong>{{getTotalDifCantidadPro(tipoPed.Pedidos)}}</strong></td>
                      <td class="text-right"><strong>{{getTotalDifImporteSurtido(tipoPed.Pedidos)}}</strong></td>
                    </tr>                -->
                    <!-- </ng-container> -->
                  </ng-container>
    
                <!-- TOTAL OFICINA-->
                <!-- <tr>
                  <td></td>
                  <td></td>
                  <td><strong>Total</strong></td>
                  <td><strong>{{getTotalPedidosOficina(relPed.TipoPedido)}}</strong></td>
                  <td></td>
                  <td>Pedidos</td>
                  <td></td>
                  <td><strong>OFICINA</strong></td>
                  <td></td>
                  <td></td> 
                  <td class="text-right"><strong>{{getTotalCanPedOficina(relPed.TipoPedido)}}</strong></td>
                  <td class="text-right"><strong>{{getTotalImportesOficina(relPed.TipoPedido)}}</strong></td>
                  <td class="text-right"><strong>{{getTotalCPValorAgregadoOficina(relPed.TipoPedido)}}</strong></td>
                  <td class="text-right"><strong>{{getTotalCanSurtidaOficina(relPed.TipoPedido)}}</strong></td>
                  <td class="text-right"><strong>{{getTotalCanSurtidaImporteOficina(relPed.TipoPedido)}}</strong></td>
                  <td class="text-right"><strong>{{getTotalCSValorImporteOficina(relPed.TipoPedido)}}</strong></td>
                  <td class="text-right"><strong>{{getTotalDifCantidadProOficina(relPed.TipoPedido)}}</strong></td>
                  <td class="text-right"><strong>{{getTotalDifImporteSurtidoOficina(relPed.TipoPedido)}}</strong></td>              
                </tr> -->
              </ng-container>               
              
              <!-- GRAN TOTALES-->
              <!-- <tr>
                <td></td>
                <td></td>
                <td></td>
                <td><strong>{{getTotalPedidosGranTotal(oRelacionPedRes.Contenido)}}</strong></td>
                <td></td>
                <td>Pedidos</td>
                <td></td>
                <td><strong>GRAN TOTAL</strong></td>
                <td></td>
                <td></td> 
                <td class="text-right"><strong>{{getTotalCanPedGranTotal(oRelacionPedRes.Contenido)}}</strong></td>
                <td class="text-right"><strong>{{getTotalImportesGranTotal(oRelacionPedRes.Contenido)}}</strong></td>
                <td class="text-right"><strong>{{getTotalCPValorAgregadoGranTotal(oRelacionPedRes.Contenido)}}</strong></td>
                <td class="text-right"><strong>{{getTotalCanSurtidaGranTotal(oRelacionPedRes.Contenido)}}</strong></td>
                <td class="text-right"><strong>{{getTotalCanSurtidaImporteGranTotal(oRelacionPedRes.Contenido)}}</strong></td>
                <td class="text-right"><strong>{{getTotalCSValorImporteGranTotal(oRelacionPedRes.Contenido)}}</strong></td>
                <td class="text-right"><strong>{{getTotalDifCantidadProGranTotal(oRelacionPedRes.Contenido)}}</strong></td>
                <td class="text-right"><strong>{{getTotalDifImporteSurtidoGranTotal(oRelacionPedRes.Contenido)}}</strong></td>
              </tr> -->
    
              </tbody>               
            </table>
        </div> 
      </section>
  
  
      
  